# üìö BookHub-ORM

<div align="center">

![Django](https://img.shields.io/badge/Django-092E20?style=for-the-badge&logo=django&logoColor=white)
![Python](https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=python&logoColor=white)
![Bootstrap](https://img.shields.io/badge/Bootstrap-563D7C?style=for-the-badge&logo=bootstrap&logoColor=white)
![SQLite](https://img.shields.io/badge/SQLite-07405E?style=for-the-badge&logo=sqlite&logoColor=white)

**–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∫–Ω–∏–≥ –Ω–∞ Django —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ ORM –∑–∞–ø—Ä–æ—Å–∞–º–∏**

[–û–ø–∏—Å–∞–Ω–∏–µ](#-–æ–ø–∏—Å–∞–Ω–∏–µ) ‚Ä¢[üåü –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)‚Ä¢  [üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏](#-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏) ‚Ä¢ [–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π](#1--–ø–æ–ª–Ω–æ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ-—Å–æ–∑–¥–∞–Ω–Ω—ã—Ö-–º–æ–¥–µ–ª–µ–π) ‚Ä¢ [–°–•–ï–ú–ê –°–í–Ø–ó–ï–ô –ú–ï–ñ–î–£ –ú–û–î–ï–õ–Ø–ú–ò](#-—Å—Ö–µ–º–∞-—Å–≤—è–∑–µ–π-–º–µ–∂–¥—É-–º–æ–¥–µ–ª—è–º–∏) ‚Ä¢ [–ü–û–®–ê–ì–û–í–´–ï –ò–ù–°–¢–†–£–ö–¶–ò–ò –ü–û –°–û–ó–î–ê–ù–ò–Æ –¢–ï–°–¢–û–í–´–• –î–ê–ù–ù–´–•](#2--–ø–æ—à–∞–≥–æ–≤—ã–µ-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏-–ø–æ-—Å–æ–∑–¥–∞–Ω–∏—é-—Ç–µ—Å—Ç–æ–≤—ã—Ö-–¥–∞–Ω–Ω—ã—Ö)‚Ä¢ [üîç –û–ü–ò–°–ê–ù–ò–ï –í–´–ü–û–õ–ù–ï–ù–ù–´–• –ó–ê–ü–†–û–°–û–í](#3--–æ–ø–∏—Å–∞–Ω–∏–µ-–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö-–∑–∞–ø—Ä–æ—Å–æ–≤)‚Ä¢ [‚ö° –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ó–ê–ü–†–û–°–û–í](#4--–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-–∑–∞–ø—Ä–æ—Å–æ–≤)‚Ä¢ [‚úÖ –ò–¢–û–ì–ò –†–ï–ê–õ–ò–ó–ê–¶–ò–ò](#-–∏—Ç–æ–≥–∏-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)

</div>

## üìã –û–ø–∏—Å–∞–Ω–∏–µ
**–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–Ω–∏–≥–∞–º–∏, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Django ORM, —Å–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ —Ç–µ—Ö–Ω–∏–∫–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.**

## üåü –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
- **Publisher** - –ò–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å—Ç—Ä–∞–Ω–µ
- **Store** - –ö–Ω–∏–∂–Ω—ã–µ –º–∞–≥–∞–∑–∏–Ω—ã —Å –≥–æ—Ä–æ–¥–∞–º–∏ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è
- **Review** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –æ—Ü–µ–Ω–∫–∏ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏
- **Book** - –†–∞—Å—à–∏—Ä–µ–Ω–∞ —Å–≤—è–∑—è–º–∏ —Å –∏–∑–¥–∞—Ç–µ–ª—è–º–∏ –∏ –º–∞–≥–∞–∑–∏–Ω–∞–º–∏

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ ORM –∑–∞–ø—Ä–æ—Å—ã
- üìç –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–Ω–∏–≥ –ø–æ —Å—Ç—Ä–∞–Ω–µ –∏–∑–¥–∞—Ç–µ–ª—è
- üè™ –ö–Ω–∏–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤ –º–∞–≥–∞–∑–∏–Ω–∞—Ö –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞
- ‚≠ê –í—ã—Å–æ–∫–æ–æ—Ü–µ–Ω–µ–Ω–Ω—ã–µ –∫–Ω–∏–≥–∏ —Å —Ä–∞—Å—á–µ—Ç–æ–º —Å—Ä–µ–¥–Ω–µ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞
- üìä –ê–≥—Ä–µ–≥–∞—Ü–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–Ω–∏–≥ –ø–æ –º–∞–≥–∞–∑–∏–Ω–∞–º
- üÜï –ú–∞–≥–∞–∑–∏–Ω—ã —Å –Ω–æ–≤—ã–º–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è–º–∏ —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚ö° `select_related()` –¥–ª—è —Å–≤—è–∑–µ–π ForeignKey
- üîÑ `prefetch_related()` –¥–ª—è —Å–≤—è–∑–µ–π ManyToMany
- üö´ –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã N+1 –∑–∞–ø—Ä–æ—Å–æ–≤
- üìà –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **–ë—ç–∫–µ–Ω–¥**: Django 4.2+
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: SQLite3
- **ORM**: Django ORM —Å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏
- **–§—Ä–æ–Ω—Ç–µ–Ω–¥**: –®–∞–±–ª–æ–Ω—ã Django + HTML/CSS
- **–ê–¥–º–∏–Ω–∫–∞**: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Django Admin

## üë• –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∞–¥–º–∏–Ω–∫–∏
- –ü–æ–ª–Ω—ã–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π
- –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑—è–º–∏
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –ø–æ–∏—Å–∫–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±—É—á–µ–Ω–∏—è
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç:
- –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö Django ORM –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–≤—è–∑–µ–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∞–¥–º–∏–Ω–∫–∏
- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —à–∞–±–ª–æ–Ω–æ–≤ —Å–æ —Å–ª–æ–∂–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

# 1. üìä –ü–û–õ–ù–û–ï –û–ü–ò–°–ê–ù–ò–ï –°–û–ó–î–ê–ù–ù–´–• –ú–û–î–ï–õ–ï–ô
## –ú–æ–¥–µ–ª—å Publisher (–ò–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ)
```
python
class Publisher(models.Model):
    name = models.CharField(max_length=100, verbose_name="–ù–∞–∑–≤–∞–Ω–∏–µ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞")
    country = models.CharField(max_length=50, verbose_name="–°—Ç—Ä–∞–Ω–∞")
```
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞—Ö
–ü–æ–ª—è:
- ```name ```- –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞
- ```country ```- —Å—Ç—Ä–∞–Ω–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è

## –ú–æ–¥–µ–ª—å Store (–ú–∞–≥–∞–∑–∏–Ω)
```
python
class Store(models.Model):
    name = models.CharField(max_length=100, verbose_name="–ù–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞")
    city = models.CharField(max_length=50, verbose_name="–ì–æ—Ä–æ–¥")
    books = models.ManyToManyField('Book', related_name='stores')
```
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–Ω–∏–∂–Ω—ã—Ö –º–∞–≥–∞–∑–∏–Ω–∞—Ö
–ü–æ–ª—è:
- ```name ```- –Ω–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞
- ```city ```- –≥–æ—Ä–æ–¥ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è
- ```books ```- —Å–≤—è–∑—å —Å –∫–Ω–∏–≥–∞–º–∏ (ManyToMany)

## –ú–æ–¥–µ–ª—å Review (–û—Ç–∑—ã–≤)
```
python
class Review(models.Model):
    book = models.ForeignKey('Book', on_delete=models.CASCADE, related_name='reviews')
    rating = models.IntegerField(validators=[MinValueValidator(1), MaxValueValidator(5)])
    comment = models.TextField(verbose_name="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π")
    created_at = models.DateTimeField(auto_now_add=True, verbose_name="–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è")
```
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤ –∏ –æ—Ü–µ–Ω–æ–∫ –∫–Ω–∏–≥
–ü–æ–ª—è:
- ```book ```- —Å–≤—è–∑—å —Å –∫–Ω–∏–≥–æ–π (ForeignKey)
- ```rating ```- –æ—Ü–µ–Ω–∫–∞ –æ—Ç 1 –¥–æ 5
- ```comment ```- —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- ```created_at ```- –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–∑—ã–≤–∞

## –ú–æ–¥–µ–ª—å Book (–ö–Ω–∏–≥–∞) - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è
```
python
class Book(models.Model):
    title = models.CharField(max_length=100, verbose_name="–ù–∞–∑–≤–∞–Ω–∏–µ")
    author = models.CharField(max_length=100, verbose_name="–ê–≤—Ç–æ—Ä")
    published_date = models.DateField(verbose_name="–î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏")
    isbn = models.CharField(max_length=13, verbose_name="ISBN")
    publisher = models.ForeignKey(Publisher, on_delete=models.SET_NULL, null=True, blank=True, related_name='books')
```
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–Ω–∏–≥–∞—Ö
–ù–æ–≤—ã–µ —Å–≤—è–∑–∏:
- ```publisher ```- –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ (ForeignKey ‚Üí Publisher)
- ```stores ```- –º–∞–≥–∞–∑–∏–Ω—ã (ManyToMany ‚Üê Store, —á–µ—Ä–µ–∑ related_name)

## üîó –°–•–ï–ú–ê –°–í–Ø–ó–ï–ô –ú–ï–ñ–î–£ –ú–û–î–ï–õ–Ø–ú–ò:
```
text
Publisher (1) ‚Üê‚Üí (N) Book (1) ‚Üê‚Üí (N) Review
    ‚Üë
    | (ForeignKey)
    |
Book (N) ‚Üê‚Üí (N) Store
    ‚Üë
    | (ManyToMany)
    |
Store
```
**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å–≤—è–∑–µ–π:**

- **One-to-Many:** –û–¥–∏–Ω Publisher ‚Üí –º–Ω–æ–≥–æ Book, –æ–¥–Ω–∞ Book ‚Üí –º–Ω–æ–≥–æ Review
- **Many-to-Many:** –ú–Ω–æ–≥–æ Book ‚Üî –º–Ω–æ–≥–æ Store (–∫–Ω–∏–≥–∞ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–∞–≥–∞–∑–∏–Ω–∞—Ö, –º–∞–≥–∞–∑–∏–Ω —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–Ω–∏–≥–∞–º–∏)

# 2. üìù –ü–û–®–ê–ì–û–í–´–ï –ò–ù–°–¢–†–£–ö–¶–ò–ò –ü–û –°–û–ó–î–ê–ù–ò–Æ –¢–ï–°–¢–û–í–´–• –î–ê–ù–ù–´–•

**–ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–Ω–µ–ª—å Django:**
- 1. –ó–∞–ø—É—Å–∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏:
```
bash
python manage.py runserver
```
–ü–µ—Ä–µ–π—Ç–∏: ```http://127.0.0.1:8000/admin/```

- 2. –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:

**–®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤ (Publisher)**
- –ù–∞–∂–∞—Ç—å "Publishers" ‚Üí "ADD PUBLISHER"
- –ó–∞–ø–æ–ª–Ω–∏—Ç—å:
- Name: ```–≠–∫—Å–º–æ```
- Country: ```–†–æ—Å—Å–∏—è```
- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Å–æ–∑–¥–∞—Ç—å: –ê–°–¢, Penguin, –ú–∞–Ω–Ω, –ò–≤–∞–Ω–æ–≤ –∏ –§–µ—Ä–±–µ—Ä

**–®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –∫–Ω–∏–≥ (Book)**
- –ù–∞–∂–∞—Ç—å "Books" ‚Üí "ADD BOOK"
- –ó–∞–ø–æ–ª–Ω–∏—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–π –∫–Ω–∏–≥–∏:
- Title: ``` –ú–∞—Å—Ç–µ—Ä –∏ –ú–∞—Ä–≥–∞—Ä–∏—Ç–∞```
- Author: ```–ú–∏—Ö–∞–∏–ª –ë—É–ª–≥–∞–∫–æ–≤```
- Pablished date: ```1967-01-01``` (—Ñ–æ—Ä–º–∞—Ç –ì–ì–ì–ì-–ú–ú-–î–î)
- ISBN: ```9785170903165```
- Publisher: –≤—ã–±—Ä–∞—Ç—å –∏–∑ —Å–ø–∏—Å–∫–∞
- Stores: –≤—ã–±—Ä–∞—Ç—å –º–∞–≥–∞–∑–∏–Ω—ã (–ø–æ–∫–∞ –ø—É—Å—Ç–æ)

**–®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–æ–≤ (Store)**
- –ù–∞–∂–∞—Ç—å "Stores" ‚Üí "ADD STORE"
- –ó–∞–ø–æ–ª–Ω–∏—Ç—å:
- Name: ```–ß–∏—Ç–∞–π-–≥–æ—Ä–æ–¥```
- City: ```–ú–æ—Å–∫–≤–∞```
- Books: –≤—ã–±—Ä–∞—Ç—å –∫–Ω–∏–≥–∏ –∏–∑ —Å–ø–∏—Å–∫–∞

**–®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤ (Review)**
- –ù–∞–∂–∞—Ç—å "Reviews" ‚Üí "ADD REVIEW"
- –ó–∞–ø–æ–ª–Ω–∏—Ç—å:
- Book: –≤—ã–±—Ä–∞—Ç—å –∫–Ω–∏–≥—É
- Rating: ```5 ``` (–æ—Ç 1 –¥–æ 5)
- Comment: ```–û—Ç–ª–∏—á–Ω–∞—è –∫–Ω–∏–≥–∞!```
- Created at: –∑–∞–ø–æ–ª–Ω–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É fill_data**
```
bash
python manage.py fill_data
```
# 3. üîç –û–ü–ò–°–ê–ù–ò–ï –í–´–ü–û–õ–ù–ï–ù–ù–´–• –ó–ê–ü–†–û–°–û–í

## –ó–∞–ø—Ä–æ—Å 2.1: –ö–Ω–∏–≥–∏ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤ –∏–∑ –†–æ—Å—Å–∏–∏
```
python
Book.objects.filter(publisher__country='–†–æ—Å—Å–∏—è')
```
- **–õ–æ–≥–∏–∫–∞:** –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–Ω–∏–≥ –ø–æ —Å—Ç—Ä–∞–Ω–µ –∏–∑–¥–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ —Å–≤—è–∑—å ForeignKey
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ –∫–Ω–∏–≥–∏, –∏–∑–¥–∞–Ω–Ω—ã–µ –≤ –†–æ—Å—Å–∏–∏
- **SQL-–∞–Ω–∞–ª–æ–≥:** JOIN –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏ books –∏ publishers

## –ó–∞–ø—Ä–æ—Å 2.2: –ö–Ω–∏–≥–∏ –≤ –º–æ—Å–∫–æ–≤—Å–∫–∏—Ö –º–∞–≥–∞–∑–∏–Ω–∞—Ö
```
python
Book.objects.filter(stores__city='–ú–æ—Å–∫–≤–∞').distinct()
```
- **–õ–æ–≥–∏–∫–∞:** –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Å–≤—è–∑—å ManyToMany, –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–Ω–∏–≥–∏, –ø—Ä–æ–¥–∞—é—â–∏–µ—Å—è –≤ –ú–æ—Å–∫–≤–µ
- **SQL-–∞–Ω–∞–ª–æ–≥:** JOIN —á–µ—Ä–µ–∑ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—É—é —Ç–∞–±–ª–∏—Ü—É many-to-many

## –ó–∞–ø—Ä–æ—Å 2.3: –ö–Ω–∏–≥–∏ —Å –≤—ã—Å–æ–∫–æ–π –æ—Ü–µ–Ω–∫–æ–π (>4.0)
```
python
Book.objects.annotate(avg_rating=Avg('reviews__rating')).filter(avg_rating__gte=4.0)
```
- **–õ–æ–≥–∏–∫–∞:** –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è —Å—Ä–µ–¥–Ω–µ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞ + —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–Ω–∏–≥–∏ —Å–æ —Å—Ä–µ–¥–Ω–∏–º —Ä–µ–π—Ç–∏–Ω–≥–æ–º ‚â•4.0
- **SQL-–∞–Ω–∞–ª–æ–≥:** GROUP BY + HAVING AVG(rating) >= 4.0

## –ó–∞–ø—Ä–æ—Å 2.4: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–Ω–∏–≥ –ø–æ –º–∞–≥–∞–∑–∏–Ω–∞–º
```
python
Store.objects.annotate(books_count=Count('books'))
```
- **–õ–æ–≥–∏–∫–∞:** –ê–≥—Ä–µ–≥–∞—Ü–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –î–ª—è –∫–∞–∂–¥–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞ - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–Ω–∏–≥ –≤ –ø—Ä–æ–¥–∞–∂–µ
- **SQL-–∞–Ω–∞–ª–æ–≥:** COUNT —Å GROUP BY

## –ó–∞–ø—Ä–æ—Å 2.5: –ú–∞–≥–∞–∑–∏–Ω—ã —Å –∫–Ω–∏–≥–∞–º–∏ –ø–æ—Å–ª–µ 2010 –≥–æ–¥–∞
```
python
Store.objects.filter(books__published_date__year__gte=2010)
             .annotate(books_count=Count('books'))
             .order_by('-books_count')
```
- **–õ–æ–≥–∏–∫–∞:** –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è + –∞–≥—Ä–µ–≥–∞—Ü–∏—è + —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ú–∞–≥–∞–∑–∏–Ω—ã, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ —É–±—ã–≤–∞–Ω–∏—é –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–Ω–∏–≥
- **SQL-–∞–Ω–∞–ª–æ–≥:** –ù–µ—Å–∫–æ–ª—å–∫–æ JOIN + COUNT + ORDER BY

# 4. ‚ö° –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ó–ê–ü–†–û–°–û–í

- 1. **–ú–µ—Ç–æ–¥ ```select_related()``` - –¥–ª—è ForeignKey**
- **–ü—Ä–æ–±–ª–µ–º–∞ N+1 –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
```
python
books = Book.objects.all()
for book in books:
    print(book.publisher.name)  # –û—Ç–¥–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –∫–∞–∂–¥–æ–π –∫–Ω–∏–≥–∏!
```
- **–†–µ–∑—É–ª—å—Ç–∞—Ç: N+1** –∑–∞–ø—Ä–æ—Å–æ–≤ (1 –¥–ª—è –∫–Ω–∏–≥ + N –¥–ª—è –∏–∑–¥–∞—Ç–µ–ª–µ–π)

- **–†–µ—à–µ–Ω–∏–µ —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π:**
```
python
books = Book.objects.select_related('publisher').all()
for book in books:
    print(book.publisher.name)  # –í—Å–µ –¥–∞–Ω–Ω—ã–µ —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã!
```
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ–≥–æ 1 SQL-–∑–∞–ø—Ä–æ—Å —Å ```JOIN```
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–≤—è–∑–µ–π One-to-Many –∏ One-to-One

- 2. **–ú–µ—Ç–æ–¥ ```prefetch_related()``` - –¥–ª—è ManyToMany**
- **–ü—Ä–æ–±–ª–µ–º–∞ N+1 –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
```
python
stores = Store.objects.all()
for store in stores:
    print(store.books.all())  # –û—Ç–¥–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞!
```
- **–†–µ–∑—É–ª—å—Ç–∞—Ç: N+1** –∑–∞–ø—Ä–æ—Å–æ–≤

- **–†–µ—à–µ–Ω–∏–µ —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π:**
```
python
stores = Store.objects.prefetch_related('books').all()
for store in stores:
    print(store.books.all())  # –í—Å–µ —Å–≤—è–∑–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–∞—Ä–∞–Ω–µ–µ!
```
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** 2 SQL-–∑–∞–ø—Ä–æ—Å–∞ (1 –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–æ–≤ + 1 –¥–ª—è –≤—Å–µ—Ö —Å–≤—è–∑–µ–π)
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–≤—è–∑–µ–π Many-to-Many –∏ reverse ForeignKey

- 3. **–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–µ:**
```
python
# –í views.py - –ø–æ–ª–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —Å–≤—è–∑–µ–π
books_optimized = Book.objects.select_related('publisher')\
                             .prefetch_related('stores', 'reviews')
```
- **–≠—Ñ—Ñ–µ–∫—Ç:** –ò–∑–±–µ–∂–∞–Ω–æ —Å–æ—Ç–Ω–∏ –ª–∏—à–Ω–∏—Ö SQL-–∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –∫–∞—Ç–∞–ª–æ–≥–∞

# ‚úÖ –ò–¢–û–ì–ò –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

- –í—ã–ø–æ–ª–Ω–µ–Ω–æ 100% —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∑–∞–¥–∞–Ω–∏—è:
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã 3 –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å–≤—è–∑—è–º–∏
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã 5 —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –∞–≥—Ä–µ–≥–∞—Ü–∏—è–º–∏
- ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω—ã –æ–±–∞ –º–µ—Ç–æ–¥–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å
- ‚úÖ –°–æ–∑–¥–∞–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## ü§ù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è contributions! –ù–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å pull requests –∏–ª–∏ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å issues –¥–ª—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π.

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
MIT License - —Å–≤–æ–±–æ–¥–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

<div align="center">

## ‚≠ê –ü–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥–æ—á–∫—É —ç—Ç–æ–º—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é, –µ—Å–ª–∏ –æ–Ω –ø–æ–º–æ–≥ –≤–∞–º –≤ –∏–∑—É—á–µ–Ω–∏–∏ Django ORM!

</div>